# âœ… V2.0 DASHBOARD QUICK ACTIONS STANDARD - COMPLETE

**Datum:** 2025-01-31  
**Version:** 2.0.0  
**Status:** âœ… Phase 1-4 COMPLETED

---

## ğŸ¯ EXECUTIVE SUMMARY

**Ziel:** Einheitliches Quick Actions Panel System fÃ¼r alle 14 Dashboard-Seiten

**Achievements:**

- âœ… Universelle `UniversalQuickActionsPanel` Komponente erstellt (3-Card-System)
- âœ… Context Widget Library implementiert (4 Widgets: SystemStatus, QuickStats, Shortcuts, UpcomingEvents)
- âœ… Zentrale Konfiguration fÃ¼r alle 14 Dashboards (`dashboard-quick-actions-config.ts`)
- âœ… `DashboardPageTemplate` erweitert um Quick Actions Panel Support
- âœ… Custom Hook `useQuickActionsPanel` fÃ¼r Context-basiertes Config-Passing

**Impact:**

- âœ… Einheitliche Quick Actions Panel Struktur Ã¼ber ALLE Dashboards
- âœ… Keine LeerrÃ¤ume mehr (3 Cards, kompakte Spacing)
- âœ… Kontext-relevante Widgets pro Dashboard
- âœ… Wiederverwendbarkeit maximiert (keine Code-Duplikation)

---

## ğŸ“‹ ARCHITEKTUR

### **1. UniversalQuickActionsPanel Component**

**Path:** `src/components/dashboard/UniversalQuickActionsPanel.tsx`

**Props:**

```typescript
interface UniversalQuickActionsPanelProps {
  quickActions: Array<{
    icon: LucideIcon;
    label: string;
    action: () => void;
    tooltip?: string;
    variant?: "quick-action-primary" | "secondary";
  }>;
  recentActivities?: Array<{
    icon: LucideIcon;
    iconColor?: string;
    title: string;
    time: string;
  }>;
  contextWidget: {
    title: string;
    icon: LucideIcon;
    content: ReactNode;
  };
  maxHeight?: string; // Default: calc(100vh - 200px)
  compact?: boolean; // Mobile-optimiert
}
```

**Struktur:**

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Quick Actions Card         â”‚ â† PrimÃ¤re Aktionen
â”‚  â€¢ Action 1                 â”‚
â”‚  â€¢ Action 2                 â”‚
â”‚  â€¢ Action 3                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Recent Activity Card       â”‚ â† Letzte AktivitÃ¤ten
â”‚  â€¢ Activity 1 (Zeit)        â”‚
â”‚  â€¢ Activity 2 (Zeit)        â”‚
â”‚  â€¢ Activity 3 (Zeit)        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Context Widget Card        â”‚ â† Kontext-spezifisches Widget
â”‚  [SystemStatus | QuickStats â”‚
â”‚   Shortcuts | Events]       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Features:**

- 3-Card-System (kompakt & konsistent)
- Scroll-fÃ¤hig mit `scrollbar-hide`
- Responsive spacing (`space-y-4`)
- Max-Height: `calc(100vh - 200px)` fÃ¼r Viewport-Optimierung

---

### **2. Context Widget Library**

**Path:** `src/components/dashboard/context-widgets/`

#### **SystemStatusWidget**

```typescript
// SystemStatusWidget.tsx
<SystemStatusWidget />
```

**Features:**

- API Status (Online/Offline Badge)
- DB Status (Online/Offline Badge)
- Backend Status (Online/Offline Badge)
- Letztes Update Timestamp

**Verwendung:** Master, Einstellungen

---

#### **QuickStatsWidget**

```typescript
// QuickStatsWidget.tsx
<QuickStatsWidget
  stats={[
    { label: 'Today', value: '12', icon: Calendar },
    { label: 'This Week', value: '85', icon: TrendingUp },
    { label: 'This Month', value: '320', icon: BarChart3 },
  ]}
/>
```

**Features:**

- Flexible Stats-Anzeige (1-3 Stats)
- Icon-Support
- Responsive Grid

**Verwendung:** AuftrÃ¤ge, Kunden, Fahrer, Rechnungen

---

#### **ShortcutsWidget**

```typescript
// ShortcutsWidget.tsx
<ShortcutsWidget
  shortcuts={[
    { label: 'Settings', href: '/settings', icon: Settings },
    { label: 'Reports', href: '/reports', icon: FileText },
    { label: 'Help', href: '/help', icon: HelpCircle },
  ]}
/>
```

**Features:**

- Link-Liste mit Icons
- Hover-Effekte
- Keyboard-Navigation

**Verwendung:** Office, Kommunikation

---

#### **UpcomingEventsWidget**

```typescript
// UpcomingEventsWidget.tsx
<UpcomingEventsWidget
  events={[
    { title: 'Meeting', time: '2h', icon: Calendar },
    { title: 'Deadline', time: '1d', icon: Clock },
    { title: 'Review', time: '3d', icon: CheckCircle2 },
  ]}
/>
```

**Features:**

- NÃ¤chste 3 Events
- Relative Zeit-Anzeige
- Icon-Support

**Verwendung:** Schichtzettel, Statistiken

---

### **3. Zentrale Konfiguration**

**Path:** `src/config/dashboard-quick-actions-config.ts`

**Struktur:**

```typescript
export const dashboardQuickActionsConfig: Record<
  string,
  {
    quickActions: Array<{
      icon: LucideIcon;
      label: string;
      actionKey: string;
      tooltip?: string;
    }>;
    recentActivity: {
      items: Array<{
        icon: LucideIcon;
        iconColor: string;
        titleKey: string;
        relativeTime: { value: number; unit: "minutes" | "hours" | "days" };
      }>;
    };
    contextWidget: {
      type: "systemStatus" | "quickStats" | "shortcuts" | "upcomingEvents";
      config?: Record<string, any>;
    };
  }
> = {
  master: {
    quickActions: [
      { icon: RefreshCw, label: "System Refresh", actionKey: "refresh" },
      { icon: Database, label: "Backup", actionKey: "backup" },
      { icon: Settings, label: "Settings", actionKey: "settings" },
    ],
    recentActivity: {
      items: [
        {
          icon: CheckCircle2,
          iconColor: "text-green-600",
          titleKey: "deploymentSuccessful",
          relativeTime: { value: 2, unit: "hours" },
        },
        {
          icon: AlertTriangle,
          iconColor: "text-amber-600",
          titleKey: "highCpuUsage",
          relativeTime: { value: 5, unit: "hours" },
        },
        {
          icon: CheckCircle2,
          iconColor: "text-green-600",
          titleKey: "backupCompleted",
          relativeTime: { value: 1, unit: "days" },
        },
      ],
    },
    contextWidget: {
      type: "systemStatus",
    },
  },
  // ... 13 weitere Dashboards
};
```

**Config-Mapping:**
| Dashboard | Widget Type | Quick Actions Count | Recent Activity Count |
|-----------|-------------|---------------------|----------------------|
| Master | SystemStatus | 3 | 3 |
| AuftrÃ¤ge | QuickStats | 4 | 3 |
| Kunden | QuickStats | 3 | 3 |
| Fahrer | QuickStats | 3 | 3 |
| Fahrzeuge | QuickStats | 3 | 3 |
| Rechnungen | QuickStats | 3 | 3 |
| Schichtzettel | UpcomingEvents | 3 | 3 |
| Dokumente | Shortcuts | 3 | 3 |
| Kostenstellen | QuickStats | 3 | 3 |
| Partner | QuickStats | 3 | 3 |
| Statistiken | UpcomingEvents | 3 | 3 |
| Kommunikation | Shortcuts | 3 | 3 |
| Office | Shortcuts | 3 | 3 |
| Einstellungen | SystemStatus | 3 | 3 |

---

### **4. Context Hook System**

**Path:** `src/hooks/use-quick-actions-panel.tsx`

**Provider:**

```typescript
<QuickActionsPanelProvider>
  {children}
</QuickActionsPanelProvider>
```

**Hook:**

```typescript
const { config, setConfig } = useQuickActionsPanel();

// Page-Level Usage:
useEffect(() => {
  setConfig({
    enabled: true,
    quickActions: [...],
    recentActivities: [...],
    contextWidget: { ... },
  });

  return () => setConfig(null); // Cleanup
}, [dependencies]);
```

**Integration:**

- `App.tsx`: Provider Wrapper (Zeile nach `<AuthProvider>`)
- `MainLayout.tsx`: Panel Rendering via `config`
- Dashboard Pages: `setConfig` via useEffect

---

## ğŸ“Š MIGRATION STATUS

### **Phase 1-4: COMPLETED** âœ…

**Completed:**

- [x] UniversalQuickActionsPanel Component
- [x] Context Widget Library (4 Widgets)
- [x] Zentrale Konfiguration (14 Dashboards)
- [x] Context Hook System
- [x] MainLayout Integration
- [x] Master.tsx Migration (erste Implementierung)

---

### **Phase 5-8: PENDING** â³

**Next Steps:**

1. [ ] **Phase 5:** Migration aller 14 Dashboards
   - [ ] AuftrÃ¤ge.tsx
   - [ ] Kunden.tsx
   - [ ] Fahrer.tsx
   - [ ] Fahrzeuge.tsx
   - [ ] Rechnungen.tsx
   - [ ] Schichtzettel.tsx
   - [ ] Dokumente.tsx
   - [ ] Kostenstellen.tsx
   - [ ] Partner.tsx
   - [ ] Statistiken.tsx
   - [ ] Kommunikation.tsx
   - [ ] Office.tsx
   - [ ] Einstellungen.tsx

2. [ ] **Phase 6:** Mobile Fallback Verification
   - [ ] FAB Button testen
   - [ ] Sheet Rendering verifizieren
   - [ ] Compact Mode testen

3. [ ] **Phase 7:** Responsive Breakpoints Testing
   - [ ] Desktop (1920px)
   - [ ] Laptop (1366px)
   - [ ] Tablet (768px)
   - [ ] Mobile (390px)

4. [ ] **Phase 8:** E2E Tests
   - [ ] Panel Visibility Tests
   - [ ] Context Widget Rendering Tests
   - [ ] Quick Actions Click Tests
   - [ ] Mobile FAB Tests

---

## ğŸ”§ USAGE GUIDE

### **FÃ¼r neue Dashboard-Seiten:**

```typescript
// 1. Import Hook
import { useQuickActionsPanel } from '@/hooks/use-quick-actions-panel';

// 2. Import Config
import { dashboardQuickActionsConfig } from '@/config/dashboard-quick-actions-config';

// 3. Setup Panel
const { setConfig } = useQuickActionsPanel();
const dashboardKey = 'auftraege'; // Dein Dashboard-Key

useEffect(() => {
  const config = dashboardQuickActionsConfig[dashboardKey];

  setConfig({
    enabled: true,
    quickActions: config.quickActions.map(action => ({
      icon: action.icon,
      label: action.label,
      action: () => handleAction(action.actionKey),
      tooltip: action.tooltip,
      variant: 'quick-action-primary',
    })),
    recentActivities: config.recentActivity.items.map(item => ({
      icon: item.icon,
      iconColor: item.iconColor,
      title: getLocalizedTitle(item.titleKey),
      time: formatRelativeTime(item.relativeTime.value, item.relativeTime.unit),
    })),
    contextWidget: {
      title: 'Quick Stats',
      icon: BarChart3,
      content: <QuickStatsWidget stats={[...]} />,
    },
  });

  return () => setConfig(null);
}, [setConfig]);
```

---

## ğŸ“ BETROFFENE DATEIEN

**Neue Dateien:**

1. `src/components/dashboard/UniversalQuickActionsPanel.tsx`
2. `src/components/dashboard/context-widgets/SystemStatusWidget.tsx`
3. `src/components/dashboard/context-widgets/QuickStatsWidget.tsx`
4. `src/components/dashboard/context-widgets/ShortcutsWidget.tsx`
5. `src/components/dashboard/context-widgets/UpcomingEventsWidget.tsx`
6. `src/config/dashboard-quick-actions-config.ts`
7. `src/hooks/use-quick-actions-panel.tsx`

**GeÃ¤nderte Dateien:**

1. `src/components/layout/MainLayout.tsx` - Panel Rendering
2. `src/App.tsx` - Provider Wrapper
3. `src/pages/Master.tsx` - Erste Implementierung

---

## ğŸ¯ SUCCESS CRITERIA

**Phase 1-4:** âœ… COMPLETED

- [x] Component Architecture definiert
- [x] Widget Library implementiert
- [x] Config System erstellt
- [x] Context Hook System funktional
- [x] Master.tsx erfolgreich migriert

**Phase 5-8:** â³ PENDING

- [ ] Alle 14 Dashboards migriert
- [ ] Mobile Fallback verifiziert
- [ ] Responsive Tests bestanden
- [ ] E2E Tests implementiert

---

## ğŸ“š RELATED DOCUMENTATION

- `docs/V32.5_MASTER_WHITE_SCREEN_FIX.md` - Master.tsx Migration
- `docs/HEADER_FOOTER_SIDEBAR_GOVERNANCE_V28.1.md` - Layout Standards
- `docs/DESIGN_SYSTEM_V28.1_FINAL.md` - Design System

---

**Last Updated:** 2025-01-31  
**Status:** Phase 1-4 COMPLETED âœ…
